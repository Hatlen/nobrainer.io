<!doctype html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Validations Â· NoBrainer</title>
  <link rel="stylesheet" href="/css/screen.css" />
</head>

<body class="wrap">
  <header>
  <div class="grid">
    <div class="unit one-fifth"> </div>
    <div class="unit four-fifths">
      <h1> <a href="/"> <span>NoBrainer</span> </a> </h1>
      <h3>A Ruby ORM for RethinkDB</h3>
    </div>
  </div>

<!-- put back when we do it properly for mobiles -->
<!-- <a href="https://github.com/nviennot/nobrainer"><img style="position: absolute; top: 0; right:0; border: 0; width: 149px; height: 149px;" src="/img/forkme.png" alt="Fork me on GitHub"></a> -->

</header>


  <section class="docs">
  <div class="grid">

    <div class="unit one-fifth">
  <aside>
    <h4>Getting Started</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/introduction/">Introduction</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/differences_from_other_orms/">Differences from other ORMs</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/configuration/">Configuration</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Models</h4> 

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/models/">Models</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/fields/">Fields</a></li>
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/types/">Types</a></li>
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/timestamps/">Timestamps</a></li>
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/serialization/">Serialization</a></li>
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/persistence/">Persistence</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/callbacks/">Callbacks</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="current"><a href="/docs/validations/">Validations</a></li>
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/dirty_tracking/">Dirty Tracking</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
      <li class=""><a href="/docs/associations/">Associations</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/querying/">Querying</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/scopes/">Scopes</a></li>
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/eager_loading/">Eager Loading</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Advanced Topics</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/caching/">Caching</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/rql_layer/">RQL Layer</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/indexes/">Indexes</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/management/">Management</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/multi_tenancy/">Multi Tenancy</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Miscellaneous</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/roadmap/">Roadmap</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/changelog/">Changelog</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
      <li class=""><a href="/docs/3rd_party_integration/">3rd-party Integration</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/communication/">Communication</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/faq/">FAQ</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/credits/">Credits</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

  </aside>
</div>


    <div class="like-buttons">
      <div class="github">
        <iframe src="/github-btn.html?user=nviennot&repo=nobrainer&type=watch&count=true"
          allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
      </div>

      <div class="twitter">
        <a href="https://twitter.com/nviennot" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @nviennot</a>
       <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      </div>

    </div>

    <div class="unit four-fifths">
      <article>
        <h1>Validations</h1>
        
<h2 id="declaring_validators">Declaring Validators</h2>

<p>Validations works the same way as in ActiveRecord because NoBrainer reuses the ActiveModel validation logic. If you are not familiar with how validations typically operate, please read the following documentation: <a href="http://edgeguides.rubyonrails.org/active_record_validations.html">ActiveRecord validations</a>.<br />However, there are a some differences with the associated validator and the uniqueness validator, which are explained below.</p>

<p>There are six ways to declare validations with NoBrainer:</p>

<ul>
<li><code>validate_presence_of :field_name</code></li>

<li><code>validates :field_name1, :field_name2, :presence =&gt; true</code></li>

<li><code>validate { errors.add(:base, &quot;too many friends&quot;) if too_many_friends? }</code></li>

<li><code>field :field_name, :validates =&gt; { :presence =&gt; true }</code></li>

<li>Using shorthands as described below.</li>

<li>Using types: <code>field :field_name, :type =&gt; Integer</code>. This will validate that the given field is an integer. Read more about the type checking mechanism in the <a href="/docs/types">Types</a> section.</li>
</ul>

<h2 id="shorthands">Shorthands</h2>

<h3 id="required">required</h3>

<p>You may use the <code>required</code> shorthand to specify a presence validator:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:name</span><span class='p'>,</span> <span class='ss'>:required</span> <span class='o'>=&gt;</span> <span class='kp'>true</span>
<span class='k'>end</span>
<span class='c1'># Equivalent to:</span>
<span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:name</span><span class='p'>,</span> <span class='ss'>:validates</span> <span class='o'>=&gt;</span> <span class='p'>{</span> <span class='ss'>:presence</span> <span class='o'>=&gt;</span> <span class='kp'>true</span> <span class='p'>}</span>
<span class='k'>end</span>
</code></pre></div>
<h3 id="unique">unique</h3>

<p>You may use the <code>unique</code> shorthand to specify a uniqueness validator:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:name</span><span class='p'>,</span> <span class='ss'>:unique</span> <span class='o'>=&gt;</span> <span class='kp'>true</span>
<span class='k'>end</span>
<span class='c1'># Equivalent to:</span>
<span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:name</span><span class='p'>,</span> <span class='ss'>:validates</span> <span class='o'>=&gt;</span> <span class='p'>{</span> <span class='ss'>:uniqueness</span> <span class='o'>=&gt;</span> <span class='kp'>true</span> <span class='p'>}</span>
<span class='k'>end</span>
</code></pre></div>
<h3 id="in">in</h3>

<p>You may use the <code>in</code> shorthand to specify a inclusion validator:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:state</span><span class='p'>,</span> <span class='ss'>:in</span> <span class='o'>=&gt;</span> <span class='sx'>%w(start finish)</span>
<span class='k'>end</span>
<span class='c1'># Equivalent to:</span>
<span class='k'>class</span> <span class='nc'>Model</span>
  <span class='n'>field</span> <span class='ss'>:name</span><span class='p'>,</span> <span class='ss'>:validates</span> <span class='o'>=&gt;</span> <span class='p'>{</span> <span class='ss'>:inclusion</span> <span class='o'>=&gt;</span> <span class='p'>{</span> <span class='ss'>:in</span> <span class='o'>=&gt;</span> <span class='sx'>%w(start finish)</span> <span class='p'>}</span> <span class='p'>}</span>
<span class='k'>end</span>
</code></pre></div>
<h2 id="when_are_validations_performed">When are validations performed?</h2>

<h3 id="validations_are_performed_on">Validations are performed on:</h3>

<p>Validations are performed when calling the following methods on an instance:</p>

<ul>
<li><code>save</code></li>

<li><code>save!</code></li>

<li><code>create</code></li>

<li><code>create!</code></li>

<li><code>update_attributes</code></li>

<li><code>update_attributes!</code></li>
</ul>

<p>If you want to bypass validations, you may pass the <code>:validate =&gt; false</code> option to these methods, which can be quite handy in a development console. Do not use such thing in your actual code.</p>

<p>The bang versions follow the same semantics of ActiveRecord which is to raise when validation fails. NoBrainer raises a <code>NoBrainer::Error::DocumentInvalid</code> exception when validation fails. If left uncaught in a Rails controller, a 422 status code will be returned. The non bang versions populate the errors array attached to the instance. <code>save</code> and <code>update_attributes</code> return true or false depending if the validations failed, while <code>create</code> returns the instance with an non empty <code>errors</code> attribute.</p>

<h3 id="validations_are_not_performed_on">Validations are <em>not</em> performed on:</h3>

<p>Validations are not performed when updating all documents matching a criteria, such as <code>Model.update_all()</code>.</p>

<h2 id="presence_validations_on_belongs_to_associations">Presence Validations on belongs_to Associations</h2>

<p>To add a presence validation on a <code>belongs_to</code> association, there are two ways. You are offered the trade-off between correctness and performance.</p>

<p>The first way is to add the presence validation on the association:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Comment</span>
  <span class='n'>belongs_to</span> <span class='ss'>:post</span><span class='p'>,</span> <span class='ss'>:required</span> <span class='o'>=&gt;</span> <span class='kp'>true</span>
<span class='k'>end</span>
</code></pre></div>
<p>Adding a presence validation on the association instructs NoBrainer to verify that the object pointed by the foreign_key actually exists in the database. An extra database read query will be performed if the association is not already cached.</p>
<hr />
<p>The other way to add a presence validator is to declare it on the foreign key:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Comment</span>
  <span class='n'>belongs_to</span> <span class='ss'>:post</span>
  <span class='n'>field</span> <span class='ss'>:post_id</span><span class='p'>,</span> <span class='ss'>:required</span> <span class='o'>=&gt;</span> <span class='kp'>true</span>
<span class='k'>end</span>
</code></pre></div>
<p>By declaring the presence validator on the foreign key, NoBrainer will only check that the foreign key contains something. No extra database lookup is performed to verify that the foreign key actually points to a valid object.</p>

<h2 id="the_uniqueness_validator">The Uniqueness Validator</h2>

<p>The uniqueness validator ensures that a field value can be present at most once table wide.</p>

<p>For performance reasons, NoBrainer only performs uniqueness validations when the involved fields change.</p>

<h3 id="using_scopes">Using scopes</h3>

<p>The uniqueness validator accept a <code>:scope</code> option which can be a field, or an array of fields. For example:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>TeamMember</span>
  <span class='n'>field</span> <span class='ss'>:team_name</span>
  <span class='c1'># Do not allow duplicate emails within a team.</span>
  <span class='n'>field</span> <span class='ss'>:email</span><span class='p'>,</span> <span class='ss'>:validates</span> <span class='o'>=&gt;</span> <span class='p'>{</span><span class='ss'>:uniqueness</span> <span class='o'>=&gt;</span> <span class='p'>{</span><span class='ss'>:scope</span> <span class='o'>=&gt;</span> <span class='ss'>:team_name</span><span class='p'>}}</span>
<span class='k'>end</span>
</code></pre></div>
<p>It is highly recommended that you add a presence validator on the scoped fields, because RethinkDB considers <code>nil</code> and <code>undefined</code> to be two different things.</p>

<h3 id="race_free_uniqueness_validations">Race Free Uniqueness Validations</h3>

<p>When working with traditional ORMs, the uniqueness validator is known to be racy: two concurrent requests may both pass the validation, and both could persist successfully the same supposedly unique field. Uniqueness validators are useful in conjunction with unique secondary indexes. Since RethinkDB is a sharded database, implementing unique secondary indexes is a performance problem, and so the RethinkDB team rightfully decided not to implement them. To really ensure uniqueness, one must either leverage the primary key uniqueness guarantee, or use a distributed lock.</p>

<p>NoBrainer can be configured to use distributed locks to perform non-racy uniqueness validations. This mechanism is enabled by providing a <em><code>Lock</code></em> class through the <code>distributed_lock_class</code> setting when configuring NoBrainer. You may use any lock service such as Redis or ZooKeeper by providing a <code>Lock</code> class that complies to the following API:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Lock</span>
  <span class='c1'># The initializer must accept a key argument as a String.</span>
  <span class='c1'># The key follow the following format:</span>
  <span class='c1'>#   &quot;nobrainer:database_name:table_name:field_name:field_value&quot;</span>
  <span class='c1'># Example: &quot;nobrainer:production:users:username:nico&quot;</span>
  <span class='k'>def</span> <span class='nf'>initialize</span><span class='p'>(</span><span class='n'>key</span><span class='p'>)</span>
  <span class='k'>end</span>

  <span class='c1'># Acquires a lock on @key. Returns nothing. May raise exceptions.</span>
  <span class='k'>def</span> <span class='nf'>lock</span>
  <span class='k'>end</span>

  <span class='c1'># Releases the lock on @key. Returns nothing. May raise exceptions.</span>
  <span class='k'>def</span> <span class='nf'>unlock</span>
  <span class='k'>end</span>
<span class='k'>end</span>
</code></pre></div>
<p>The following shows an example of using <a href="http://redis.io/">Redis</a> and the <a href="https://github.com/crowdtap/robust-redis-lock">robust-redis-lock</a> gem to provide non-racy uniqueness validations:</p>
<div class='highlight'><pre><code class='ruby'><span class='nb'>require</span> <span class='s1'>&#39;robust-redis-lock&#39;</span>
<span class='no'>Redis</span><span class='o'>::</span><span class='no'>Lock</span><span class='o'>.</span><span class='n'>redis</span> <span class='o'>=</span> <span class='no'>Redis</span><span class='o'>.</span><span class='n'>new</span><span class='p'>(</span><span class='ss'>:url</span> <span class='o'>=&gt;</span> <span class='s1'>&#39;redis://localhost&#39;</span><span class='p'>)</span>

<span class='no'>NoBrainer</span><span class='o'>.</span><span class='n'>configure</span> <span class='k'>do</span> <span class='o'>|</span><span class='n'>config</span><span class='o'>|</span>
  <span class='n'>config</span><span class='o'>.</span><span class='n'>distributed_lock_class</span> <span class='o'>=</span> <span class='no'>Redis</span><span class='o'>::</span><span class='no'>Lock</span>
<span class='k'>end</span>
</code></pre></div>
<p>The locks are acquired after the <code>before_create/update</code> callbacks, and before the <code>after_create/update</code> callbacks. NoBrainer alpha sorts the keys to be acquired to avoid deadlock issues when performing multiple uniqueness validations on the same document.</p>

<h2 id="differences_with_activemodel">Differences with ActiveModel</h2>

<h3 id="associated_validator">Associated Validator</h3>

<p>The associated validator is not implemented.</p>

<h3 id="uniqueness_validator">Uniqueness Validator</h3>

<p>The uniqueness validator does not accept the <code>:case_sensitive</code> option. Downcasing the attribute in a <code>before_save/validation</code> callback is a better idea.</p>

        <hr />
        <div class="section-nav">
  <div class="left align-right">
    
      <a href="/docs/callbacks/" class="prev">
        Back
      </a>
    
  </div>
  <div class="right align-left">
    
      <a href="/docs/dirty_tracking/" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>

      </article>
    </div>

    <div class="clear"></div>

  </div>
</section>


  <footer>
  <div class="grid">
    <div class="unit whole">
      NoBrainer is written and maintained by
      <a href="https://twitter.com/nviennot">Nicolas Viennot</a>.
    </div>
  </div>
</footer>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46753546-1', 'nobrainer.io');
  ga('send', 'pageview');
</script>

</body>
</html>
