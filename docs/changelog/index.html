<!doctype html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Changelog Â· NoBrainer</title>
  <link rel="stylesheet" href="/css/screen.css" />
</head>

<body class="wrap">
  <header>
  <div class="grid">
    <div class="unit one-fifth"> </div>
    <div class="unit four-fifths">
      <h1> <a href="/"> <span>NoBrainer</span> </a> </h1>
      <h3>A Ruby ORM for RethinkDB</h3>
    </div>
  </div>

<!-- put back when we do it properly for mobiles -->
<!-- <a href="https://github.com/nviennot/nobrainer"><img style="position: absolute; top: 0; right:0; border: 0; width: 149px; height: 149px;" src="/img/forkme.png" alt="Fork me on GitHub"></a> -->

</header>


  <section class="docs">
  <div class="grid">

    <div class="unit one-fifth">
  <aside>
    <h4>Getting Started</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/introduction/">Introduction</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/differences_from_other_orms/">Differences from other ORMs</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/configuration/">Configuration</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Models</h4> 

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/models/">Models</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/fields/">Fields</a></li>
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/types/">Types</a></li>
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/timestamps/">Timestamps</a></li>
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/serialization/">Serialization</a></li>
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/persistence/">Persistence</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/callbacks/">Callbacks</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/validations/">Validations</a></li>
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/dirty_tracking/">Dirty Tracking</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
      <li class=""><a href="/docs/associations/">Associations</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/querying/">Querying</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/scopes/">Scopes</a></li>
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/eager_loading/">Eager Loading</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Advanced Topics</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/caching/">Caching</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/rql_layer/">RQL Layer</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/indexes/">Indexes</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/management/">Management</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/multi_tenancy/">Multi Tenancy</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Miscellaneous</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/roadmap/">Roadmap</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class="current"><a href="/docs/changelog/">Changelog</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
      <li class=""><a href="/docs/3rd_party_integration/">3rd-party Integration</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/communication/">Communication</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/faq/">FAQ</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/credits/">Credits</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

  </aside>
</div>


    <div class="like-buttons">
      <div class="github">
        <iframe src="/github-btn.html?user=nviennot&repo=nobrainer&type=watch&count=true"
          allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
      </div>

      <div class="twitter">
        <a href="https://twitter.com/nviennot" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @nviennot</a>
       <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      </div>

    </div>

    <div class="unit four-fifths">
      <article>
        <h1>Changelog</h1>
        
<h3 id="0160__aug_27_2014">0.16.0 â Aug, 27, 2014</h3>

<ul>
<li>Added support for lazy fetching on given fields.</li>

<li>Added support for Binary types.</li>

<li>The logger shows non indexed queries.</li>

<li>Added support for <code>pluck()</code> and <code>without()</code>: <a href="https://github.com/nviennot/nobrainer/issues/86">#86</a>.</li>

<li><code>:or</code> queries are optimized to leverage indexes: <a href="https://github.com/nviennot/nobrainer/issues/86">#85</a>.</li>

<li>Added aliases support with <code>:as</code>: <a href="https://github.com/nviennot/nobrainer/issues/84">#84</a>.</li>

<li><code>with_index()</code> influences <code>order_by()</code>: <a href="https://github.com/nviennot/nobrainer/issues/82">#82</a>.</li>

<li>Added a connection lock for thread safety: <a href="https://github.com/nviennot/nobrainer/issues/80">#80</a>.</li>

<li><code>with_index()</code> can take no argument to force the use of an index.</li>

<li>Bug fix with the Rails reloader: <a href="https://github.com/nviennot/nobrainer/issues/78">#78</a>.</li>

<li>Added aggregate functions on criteria (min/max/avg/sum).</li>
</ul>

<h3 id="0150__july_27_2014">0.15.0 â July 27, 2014</h3>

<ul>
<li>Allow custom types serialization and cast methods.</li>

<li>Added local/utc timezone translation for <code>Time</code> typed attributes, configurable with <code>user_timezone</code> and <code>db_timezone</code>.</li>

<li>Added ISO8601 <code>Time</code> casting.</li>

<li>Added <code>Date</code> casting. They are stored as UTC times in the DB.</li>

<li>Added a <code>defined</code> symbol modifier to test for undefined fields.</li>

<li>Added a <code>sample</code> method to pick a random document.</li>

<li>Added a <code>:in</code> field definition shorthand for inclusion validation.</li>

<li>Support types and indexes when using Rails scaffolding by Josh Kuhn for <a href="http://rethinkdb.com/docs/rails/">http://rethinkdb.com/docs/rails/</a></li>
</ul>

<h3 id="0140__june_17_2014">0.14.0 â June 17, 2014</h3>

<ul>
<li>Added custom primary keys support.</li>

<li>Optimized certain queries.</li>

<li>Added some parallel testing (with <code>rake</code>)</li>

<li>Updated to the new RethinkDB driver and its new JSON transport mechanism.</li>
</ul>

<h3 id="0131__march_31_2014">0.13.1 â March 31, 2014</h3>

<ul>
<li><code>update_indexes</code> waits for completion by default.</li>

<li>Added the <code>nin</code> operator for <code>where()</code> queries.</li>

<li>Renamed <code>AssociationNotSaved</code> to <code>AssociationNotPersisted</code>.</li>

<li>Added a <code>:unique =&gt; true</code> options on fields as a shorthand for the unique validation.</li>

<li>Added support for queries on belongs_to associations. e.g. <code>Comment.where(:post =&gt; Post.first)</code>.</li>

<li>Added support for distributed locks when performing uniqueness validations.</li>

<li>Removed the <code>document.attributes=</code> accessor.</li>

<li>Bug fix: document dirtiness is now properly cleaned after a database read.</li>

<li><code>Symbol</code> typed fields are now read back from the database as symbols and not strings.</li>

<li>Bug fix: <code>before_validation</code> callbacks no longer stop the validation chain when returning <code>false</code>.</li>

<li>Added support for Rails 4.1.</li>
</ul>

<h3 id="0130__jan_12_2014">0.13.0 â Jan. 12, 2014</h3>

<ul>
<li>Removed <code>update()</code> and <code>replace()</code> for the model instance.</li>

<li>Removed <code>inc_all()</code> and <code>dec_all()</code> for criteria.</li>

<li>Reinstantiating a instance model from the database no longer goes through the setters to keep things consistent with the rest of the API.</li>

<li>Dirty tracking tracks changes from an undefined field, to a field set to <code>nil</code>.</li>

<li>Hashes are updated with <code>r.literal()</code> to avoid the use of <code>replace</code>.</li>

<li>Added a <code>:required =&gt; true</code> options on fields as a shorthand for the presence validation.</li>

<li>Improved the reconnection mechanism.</li>

<li>Added support for readonly fields.</li>

<li>Removed Rails3 compatibility.</li>
</ul>

<h3 id="0120__jan_8_2014">0.12.0 â Jan. 8, 2014</h3>

<ul>
<li>Timestamps are no longer enabled by default.</li>

<li><code>where()</code> validates and casts all the values with respect to their declared field types. This avoid potential query injections.</li>

<li>Saving a model will only update the attributes that have changed. No database update will be performed in case nothing has changed.</li>

<li><code>after_find()</code> callbacks are available on models, and also on criteria.</li>

<li>Removed <code>.to_xml</code>. This feature is still available by including a module.</li>

<li>License changed from MIT to LGPLv3.</li>
</ul>

<h3 id="0110__jan_7_2014">0.11.0 â Jan. 7, 2014</h3>

<ul>
<li>Using indexes for <code>gt</code>, <code>gte</code>, <code>lt</code>, <code>lte</code> operators when possible.</li>

<li>Renamed <code>criteria.includes()</code> to <code>criteria.preload()</code>.</li>

<li>Added a <code>:validates</code> option on fields.</li>

<li>Fixed dirty tracking with mutable values such as hashes and array.</li>

<li>Added <code>initialize</code> callbacks.</li>

<li>Boolean types adds a <code>field_name?</code> method for convenience.</li>
</ul>

<h3 id="0100__jan_6_2014">0.10.0 â Jan. 6, 2014</h3>

<ul>
<li>Fixed a <code>NameError</code> bug when trying to include the <code>DynamicAttributes</code> module. Issue: <a href="https://github.com/nviennot/nobrainer/issues/54">#54</a>.</li>

<li>Make the associations hackable.</li>

<li>Implementation of the type checking/casting mechanism.</li>
</ul>

<h3 id="091__jan_5_2014">0.9.1 â Jan. 5, 2014</h3>

<ul>
<li>Added Rails generators for models</li>

<li>Removed unecessary ActiveSupport requires.</li>
</ul>

<h3 id="090__jan_5_2014">0.9.0 â Jan. 5, 2014</h3>

<ul>
<li>Removed the <code>auto_include_timestamps</code> and <code>include_root_in_json</code> settings. Because The order in which the models are declared and NoBrainer configured affected the result. Related issue <a href="https://github.com/nviennot/nobrainer/issues/52">#52</a></li>

<li>Removed the <code>cache_documents</code> setting because it should not be broken.</li>

<li>Bug fix with <code>order_by()</code> which would try to use an index after a RQL <code>filter()</code> or <code>get_all()</code>.</li>

<li><code>includes()</code> no longer kill the criteria cache.</li>

<li>Loading a <code>has_many</code> association will set the corresponding <code>belongs_to</code> association, with or without eager loading.</li>

<li>Added the <code>has_many through</code> association. The implementation is done through eager loading.</li>

<li>Added the <code>has_one</code> association.</li>

<li>Renamed <code>with_options()</code> -&gt; <code>with()</code>.</li>
</ul>

<h3 id="080__dec_31_2013">0.8.0 â Dec. 31, 2013</h3>

<ul>
<li>First documented release of NoBrainer.</li>
</ul>

        <hr />
        <div class="section-nav">
  <div class="left align-right">
    
      <a href="/docs/roadmap/" class="prev">
        Back
      </a>
    
  </div>
  <div class="right align-left">
    
      <a href="/docs/3rd_party_integration/" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>

      </article>
    </div>

    <div class="clear"></div>

  </div>
</section>


  <footer>
  <div class="grid">
    <div class="unit whole">
      NoBrainer is written and maintained by
      <a href="https://twitter.com/nviennot">Nicolas Viennot</a>.
    </div>
  </div>
</footer>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46753546-1', 'nobrainer.io');
  ga('send', 'pageview');
</script>

</body>
</html>
